function showPortletText(a,b){$("div#"+a).show("slow");$("div#"+b).html("<a href='#' onClick='hidePortletText(\""+a+'","'+b+"\");'> - </a>");}function hidePortletText(a,b){$("div#"+a).hide("slow");$("div#"+b).html("<a href='#' onClick='showPortletText(\""+a+'","'+b+"\");'> + </a>");}function AJAX(){try{xmlHttp=new XMLHttpRequest();return xmlHttp;}catch(a){try{xmlHttp=new ActiveXObject("Msxml2.XMLHTTP");return xmlHttp;}catch(a){try{xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");return xmlHttp;}catch(a){alert("Your browser does not support AJAX.");return false;}}}}function ajaxPush(d,c,a,b){message=msgText=$("#"+c).val();changeTitle=$("#"+a).val();if(message!=""||changeTitle!=""){hs.htmlExpand(this,{width:400,creditsPosition:"bottom left",headingEval:"this.a.title",wrapperClassName:"titlebar",headingText:"Sending Message",maincontentText:"Please Wait"});$.ajax({type:"GET",url:d,data:{messageTitle:changeTitle,messageText:message,messageCateg:b,messageStatus:"pending"},beforeSend:function(e){if(e&&e.overrideMimeType){e.overrideMimeType("application/j-son;charset=UTF-8");}},dataType:"json",success:function(e){},error:function(f,e){}});}}function sendData(b){view_name=$("#view_name").val();view_desc=$("#view_desc").val();status_=$("#status_").val();default_=$("#default_").val();view_model=$("#view_model").val();view_type=$("#view_type").val();view_gridid=$("#gridid").val();name_alias=$("#name_alias").val();var d="wait";var a=AJAX();a.onreadystatechange=function(){if(a.readyState==4){$("#view_name").val("");$("#view_desc").val("");$("#status_").val("");$("#default_").val("");$("#view_model").val("");$("#view_type").val("");$("#gridid").val("");$("#name_alias").val("");presHtml="<div style='float:left;width:100px;color:green'><b>"+view_name+"</b></div> <div style='float:left;width:100px;color:green'><b>"+name_alias+"</b></div> <div style='float:left;width:100px;color:green'><b>"+view_model+"</b></div> <div style='float:left;width:100px;color:green'><b>"+view_type+"</b></div> <div style='float:left;width:100px;color:green'><b>"+status_+"</b></div><div style='clear:left;'></div>";$("#addpres_details").html($("#addpres_details").html()+presHtml);document.getElementById(d).innerHTML=a.responseText;}else{document.getElementById(d).innerHTML="Please Wait...<br/> <img src='images/loader.gif' alt='loading' />";}};var c="&view_name="+view_name+"&view_desc="+view_desc+"&status_="+status_+"&default_="+default_+"&view_model="+view_model+"&view_type="+view_type+"&gridid="+view_gridid+"&name_alias="+name_alias;a.open("GET",b+c,true);a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.send(null);}function setDraggablePosition(e,d,c,f,a){var b=d.split("_");$.ajax({type:"GET",url:e,data:{drag:d,drop:f,dragvalue:c,dropvalue:a},beforeSend:function(g){if(g&&g.overrideMimeType){g.overrideMimeType("application/j-son;charset=UTF-8");}},dataType:"json",success:function(g){$("#"+f).text(c);$("#DropDiv_"+g.moved_drop).text(a);},error:function(h,g){alert("Error hapa! "+h+" "+g);}});}function getUpdateDialog(c,b,a){$.ajax({type:"post",url:c,data:$("#"+b).serialize(),dataType:"json",beforeSend:function(d){$("#"+a+" div.divForForm").html("Please wait...");if(d&&d.overrideMimeType){d.overrideMimeType("application/j-son;charset=UTF-8");}},success:function(d){if(d.status=="failure"){$("#"+a+" div.divForForm").html(d.div);$("#"+a+" div.divForForm form input[type=submit]").die().live("click",function(f){f.preventDefault();getUpdateDialog(c,b,a);});}else{$("#"+a+" div.divForForm").html(d.div);if(d.redirect==1){window.location=d.newpage;}$("div.grid-view").each(function(){$.fn.yiiGridView.update($(this).attr("id"));});setTimeout($("#"+a).dialog("close").children(":eq(0)").empty(),5000);}},error:function(e,d){$("#"+a+" div.divForForm").html("An error occured. ");}});return false;}function showService(e,a,f,c,b,d){$.ajax({type:"GET",url:e,data:{service_id:a},dataType:"json",beforeSend:function(g){$("#"+f).html("Please wait...");if(g&&g.overrideMimeType){g.overrideMimeType("application/j-son;charset=UTF-8");}},success:function(g){$("#"+f).html(g.text);$("#"+c).html(g.views);$("#"+b).html(g.portlets);$("#"+d).html(g.viewDetails);},error:function(h,g){$("#"+f).html("An error occured.");}});return false;}function showDefaultViewDetails(c,e,b){var a=AJAX();a.onreadystatechange=function(){if(a.readyState==4){document.getElementById(e).innerHTML=a.responseText;}else{document.getElementById(e).innerHTML="Please Wait...<br/> <img src='images/loader.gif' alt='loading' />";}};var d="&service_id="+b;a.open("GET",c+d,true);a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.send(null);}function showAjaxServiceTabs(c,f,b,e){var a=AJAX();a.onreadystatechange=function(){if(a.readyState==4){document.getElementById(f).innerHTML=a.responseText;}else{document.getElementById(f).innerHTML="Please Wait...<br/> <img src='images/loader.gif' alt='loading' />";}};var d="&service_id="+b+"&div="+f+"&view_file="+e;a.open("GET",c+d,true);a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.send(null);}function showDiv(c,a,b){$("div#"+c).hide();$("div#"+a).html("<a href='#' onClick=\"hideDiv('"+c+"','"+a+"','"+b+"')\">+</a> "+b);$("div#"+a).css("width","97.4%");}function hideDiv(c,a,b){$("div#"+c).show();$("div#"+a).html("<a href='#' onClick=\"showDiv('"+c+"','"+a+"','"+b+"')\">-</a>");$("div#"+a).css("width","");}function hyBridGrid(d,f,b,c){var a=AJAX();a.onreadystatechange=function(){if(a.readyState==4){document.getElementById(f).innerHTML=a.responseText;}else{document.getElementById(f).innerHTML="Please Wait...<br/> <img src='images/loader.gif' alt='loading' />";}};var e="&view="+b+"&id="+c+"&token=ajax";a.open("GET",d+e,true);a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.send(null);}function ajaxFormButton(d,e,c){var a=AJAX();a.onreadystatechange=function(){if(a.readyState==4){returnString=a.responseText;document.getElementById(e).innerHTML=a.responseText;parentGridArray=returnArray[0].split("=>");}else{document.getElementById(e).innerHTML="Please Wait...<br/> <img src='images/loader.gif' alt='loading' />";}};var b="type=ajax&"+$("#"+c).serialize();a.open("POST",d,true);a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.send(b);}function ajaxFormSubmit(b,d,a,c){$.ajax({type:"post",url:b,data:$("#"+a).serialize(),dataType:"json",beforeSend:function(e){var f;if(c=="0"){f="";}else{f="Please wait...";}$("#"+d).html(f);if(e&&e.overrideMimeType){e.overrideMimeType("application/j-son;charset=UTF-8");}},success:function(e){$("#"+d).html(e.div);if(e.closeDialog==1){closeDialog(e.parent_grid);}if(e.updateGrid==1){updateGrid(e.parent_grid);}if(e.redirect==1){window.location=e.newpage;}},error:function(f,e){$("#"+d).html("An error occured.");}});}function deleteDialogMessage(b,d,a,c){mess="<p> Are you sure you want to delete this item? </p>\n         <a href='#' onClick='ajaxDelete(\""+b+'","'+d+'", "'+a+'", "'+c+"\")'> DELETE </a> &nbsp; &nbsp; &nbsp; \n          <a href='#' onClick='closeDialogBox();' > CANCEL </a>";document.getElementById(d).innerHTML=mess;}function dialogContent(c,b,a){content=$("div#"+a).html();$("div#"+a).show();document.getElementById("ui-dialog-title-dialog-id").innerHTML=b;}function ajaxDelete(b,d,a,c){$.ajax({type:"GET",url:b,data:{model:a,id:c},dataType:"json",beforeSend:function(e){$("#"+d).html("Please wait...");if(e&&e.overrideMimeType){e.overrideMimeType("application/j-son;charset=UTF-8");}},success:function(e){$("#"+d).html(e.div);if(e.redirect==1){window.location=e.newpage;}if(e.closeDialog==1){closeDialogBox(e.parent_grid);}if(e.updateGrid==1){updateGrid(e.parent_grid);}},error:function(f,e){$("#"+d).html("An error occured.");}});}function showAjaxViewTabs(c,f,b,e){var a=AJAX();a.onreadystatechange=function(){if(a.readyState==4){document.getElementById(f).innerHTML=a.responseText;}else{document.getElementById(f).innerHTML="Please Wait...<br/> <img src='images/loader.gif' alt='loading' />";}};var d="&view_id="+b+"&div="+f+"&view_file="+e;a.open("GET",c+d,true);a.setRequestHeader("Content-type","application/x-www-form-urlencoded");a.send(null);}function updateGrid(a){$.fn.yiiGridView.update(a,{data:$(this).serialize()});}function closeDialogBox(a){$("#dialog-id").dialog("close");}function ajaxUniversalGetRequest(b,c,a){$.ajax({type:"GET",url:b,data:{string:a},dataType:"json",beforeSend:function(d){$("#"+c).html("Please wait...");if(d&&d.overrideMimeType){d.overrideMimeType("application/j-son;charset=UTF-8");}},success:function(d){$("#"+c).html(d.div);if(d.redirect==1){window.location=d.newpage;}if(d.reload==1){location.reload();}if(d.updateGrid==1){updateGridView(d.parent_grid);}},error:function(e,d){$("#"+c).html("An error occured.");}});}function strtoupper(a){return(a+"").toUpperCase();}